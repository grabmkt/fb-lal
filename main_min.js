$(document).ready(function(){function e(){var e=!0;return""===$("#a_name").val()||""===$("#a_id").val()||null===$("#country_dropdown").val()||null===$("#account_dropdown").val()?(e=!1,$(".validation").show()):$(".validation").hide(),e?void a():($(".success").hide(),$(".error").hide(),$("html,body").animate({scrollTop:0},"slow"),!1)}function a(){var e="Lookalike ("+$("#country_dropdown").val()+", "+$("#lal_value").text()+"%) - "+$("#a_name").val(),a=parseInt($("#lal_value").text())/100,n={ID:{country:"act_10154201522535343",regional:"act_960713844017539"},MY:{country:"act_975721032516820",regional:"act_1510253962542106"},PH:{country:"act_286163198",regional:"act_960709704017953"},SG:{country:"act_937391186349805",regional:"act_936786009743656"},TH:{country:"act_1381390565431254",regional:"act_960710254017898"},VN:{country:"act_1375009352774405",regional:"act_975723752516548"}},r=n[$("#country_dropdown").val()][$("#account_dropdown").val()],t={name:e,origin_audience_id:$("#a_id").val(),subtype:"LOOKALIKE",lookalike_spec:{country:$("#country_dropdown").val(),ratio:a},access_token:"EAADeZBgSHnjsBAJi4JGHWUpFeA13bm2SjvOfDL1llxouZB4TSJPZBLZAw2TIgFZA9pbDAuEfD4dsysKiPHcSOkDy1n5ZBAmZC7Fo6I3q65PJYFkHX0h8O2cBFot6jFjD0PCZBzYMMs2aGriUv551kvlaV1Mvltmd7ZC8NJNBjnZA1xkwZDZD"};o(t,r)}function o(e,a){$.ajax({url:"https://graph.facebook.com/v2.8/"+a+"/customaudiences",type:"POST",dataType:"json",data:e,success:function(e){$(".errorResponse").hide(),$(".successResponse").show();var a=document.getElementById("success-msg");a.innerHTML="Congratulations! You have created a "+$("#lal_value").text()+"% lookalike for "+$("#a_name").val()},error:function(e,a,o){console.log(JSON.stringify(e.responseJSON)),$(".successResponse").hide(),$(".errorResponse").show();var n=document.getElementById("error-msg");n.innerHTML="Sorry, I am unable to create a lookalike audience.<br />This is the error message: "+JSON.stringify(e.responseJSON.error.message)}}),$("html,body").animate({scrollTop:0},"slow")}$(function(){$("#lal_slider").slider({range:"max",min:11,max:20,value:20,slide:function(e,a){$("#lal_value").text(a.value)}}),$("#lal_value").val($("#lal_slider").slider("value"))}),$(".validation").hide(),$(".successResponse").hide(),$(".errorResponse").hide(),$("form").submit(function(a){a.preventDefault(),e()})});